(this["webpackJsonpfront-end"]=this["webpackJsonpfront-end"]||[]).push([[0],{112:function(e,t,n){"use strict";n.r(t);var c=n(1),s=n.n(c),r=n(48),a=n.n(r),i=(n(57),n(49)),o=n(50),u=n(52),j=n(51),l=(n(29),n(8)),h=n(0);var d=Object(l.c)((function(){var e=Object(l.b)(),t=e.isAuthenticated,n=e.loginWithRedirect;return!t&&Object(h.jsx)("div",{class:"login-box",children:Object(h.jsx)("button",{color:"red",onClick:n,children:"Login Here"})})})),b=n(14),m=n.n(b),f=n(28),O=n(15),p=n(16),g=n(7),v=n(65),x=n(83);n(109).config();var y=x.connect("".concat("http://gifsms-env.eba-pn2gaatk.us-east-2.elasticbeanstalk.com","/gifs")),k=function(e){var t=e.user,n=Object(c.useState)({message:"",user:""}),s=Object(g.a)(n,2),r=s[0],a=s[1],i=Object(c.useState)([]),o=Object(g.a)(i,2),u=o[0],j=o[1],l=Object(c.useState)([]),d=Object(g.a)(l,2),b=d[0],x=d[1],k=Object(c.useState)([]),C=Object(g.a)(k,2),w=C[0],N=C[1],A=Object(c.useState)([]),E=Object(g.a)(A,2),S=E[0],q=E[1],P=Object(c.useState)(""),W=Object(g.a)(P,2),H=W[0],M=W[1],R=Object(c.useState)("Main Room"),U=Object(g.a)(R,2),B=U[0],_=U[1];Object(c.useEffect)((function(){y.on("user joined",(function(e){console.log(e),j((function(t){return[].concat(Object(O.a)(t),[{type:"notification",message:"User ".concat(e.user," has joined the room"),user:e.user}])}))})),y.on("get participants",(function(e){N(e.participants)})),y.on("get rooms",(function(e){q(e.rooms)})),y.on("message",(function(e){console.log("messaged",e),j((function(t){return[].concat(Object(O.a)(t),[{message:e.message,user:e.user}])}))})),a(Object(p.a)(Object(p.a)({},r),{},{user:t})),y.on("user disconnected",(function(e){console.log(e),j((function(t){return[].concat(Object(O.a)(t),[{type:"notification",message:"User ".concat(e.user," has left the room"),user:e.user}])}))}))}),[]),Object(c.useEffect)((function(){if(r.user){var e=[];v.get("https://api.giphy.com/v1/gifs/trending?limit=5").query({api_key:"".concat("w904uPC35tKH7ajw1vZr8uyNgBq2E5U7")}).then((function(t){var n=t.body.data;console.log("BAAAAASE: ",n),n.forEach((function(t){e.push(t.images.fixed_width.url)})),x((function(t){return[].concat(e)}))})).catch((function(e){console.log("Womp Womp",e)})),y.emit("join",{user:r.user,room:"Main Room"})}}),[r.user]);var G={set:[]};G.handleAPICall=function(){var e=Object(f.a)(m.a.mark((function e(t,n){var c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c="https://api.giphy.com/v1/gifs/search?q=".concat(r.message,"&limit=5"),v.get(c).query({api_key:"".concat("w904uPC35tKH7ajw1vZr8uyNgBq2E5U7")}).then((function(e){G.results=e,G.results.body.data.forEach((function(e){G.set.push(e.images.fixed_width.url)})),x((function(e){return Object(O.a)(G.set)})),G.set=[]})).catch((function(e){console.log("Womp Womp",e)}));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();var I,J=function(){var e=Object(f.a)(m.a.mark((function e(t,n){var c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c="https://api.giphy.com/v1/gifs/translate?s=".concat(r.message),v.get(c).query({api_key:"".concat("w904uPC35tKH7ajw1vZr8uyNgBq2E5U7")}).then((function(e){var t=e.body.data;y.emit("message",{message:t.images.fixed_width.url,user:r.user,room:B})})).catch((function(e){console.log("Womp Womp")}));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),K=function(e){var t=e.target.getAttribute("room");B!==t&&(B&&y.emit("leave",{user:r.user,room:B}),j([]),y.emit("join",{user:r.user,room:t}),_(t))};return Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)("div",{className:"chat-container",children:[Object(h.jsxs)("div",{className:"side-nav",children:[Object(h.jsxs)("div",{className:"rooms",children:[Object(h.jsx)("h2",{children:"Chat Rooms"}),S&&Object(h.jsx)(h.Fragment,{children:S.map((function(e,t){return Object(h.jsx)("div",{onClick:K,children:Object(h.jsxs)("h3",{room:e,children:[e," ",e===B?" - active":""]})},t)}))}),Object(h.jsx)("input",{type:"text",placeholder:"Enter Room Name",onChange:function(e){return M(e.target.value)}}),Object(h.jsx)("button",{onClick:function(){j([]),y.emit("join",{user:r.user,room:H}),_(H)},children:"Create Room"}),Object(h.jsx)("button",{onClick:function(){y.emit("leave",{user:r.user,room:B}),_("")},children:"Leave Room"})]}),Object(h.jsxs)("div",{className:"participants",children:[Object(h.jsx)("h2",{children:"Chat Participants"}),w&&Object(h.jsx)(h.Fragment,{children:w.map((function(e,t){return Object(h.jsx)("div",{children:Object(h.jsx)("h3",{children:e})},t)}))})]})]}),Object(h.jsxs)("div",{className:"chat",children:[Object(h.jsx)("h2",{children:"Chat"}),Object(h.jsx)("div",{className:"chatArea",children:u.map((function(e,t){var n=e.message,c=e.user;return"notification"===e.type?Object(h.jsx)("div",{children:Object(h.jsx)("h4",{children:n})},t):Object(h.jsx)("div",{children:Object(h.jsxs)("h2",{children:[c,": ",Object(h.jsx)("img",{alt:t,src:n})]})},t)}))})]}),Object(h.jsxs)("div",{className:"searcher",children:[Object(h.jsx)("div",{className:"search-side",children:Object(h.jsx)("h2",{children:"Go Giff Yourself"})}),Object(h.jsx)("input",{placeholder:"Move Me",onChange:function(e){return function(e){a(Object(p.a)(Object(p.a)({},r),{},{message:e.target.value}))}(e)},onKeyDown:function(e){return function(e){"Enter"===e.key&&G.handleAPICall()}(e)},value:r.message}),Object(h.jsx)("button",{onClick:G.handleAPICall,children:"Giph Me"}),Object(h.jsx)("button",{onClick:J,children:"Giph Me Harder"}),Object(h.jsx)("div",{className:"gifTown",children:(I=b,console.log("Gif Window: ",I),I.map((function(e){return Object(h.jsx)("div",{className:"gif-prev",children:Object(h.jsx)("img",{src:e,alt:e,onClick:function(e){return function(e){e.preventDefault(),y.emit("message",{message:e.target.src,user:r.user,room:B})}(e)}})})})))})]})]})})},C=function(e){Object(u.a)(n,e);var t=Object(j.a)(n);function n(e){var c;return Object(i.a)(this,n),(c=t.call(this,e)).state={user:{}},c}return Object(o.a)(n,[{key:"userSetter",value:function(e){this.setState({user:{info:e}})}},{key:"render",value:function(){return Object(h.jsxs)("div",{className:"App",children:[Object(h.jsx)("header",{className:"App-header"}),Object(h.jsx)("body",{children:this.props.auth0.isAuthenticated?Object(h.jsx)(k,{user:this.props.auth0.user.nickname}):Object(h.jsx)(d,{})})]})}}]),n}(s.a.Component),w=Object(l.c)(C);a.a.render(Object(h.jsx)(l.a,{domain:"ardentallegory.us.auth0.com",clientId:"YXCJJSd1H6bb6zMJXZrzqjBbU7lA0PHk",redirectUri:window.location.origin,children:Object(h.jsx)(w,{})}),document.getElementById("root"))},29:function(e,t,n){},57:function(e,t,n){},77:function(e,t){}},[[112,1,2]]]);
//# sourceMappingURL=main.91f593f6.chunk.js.map